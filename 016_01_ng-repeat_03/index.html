<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="./css/myStyle.css">
        <script src="./index.js" defer></script>

        <style>
            .highlight {
                border: 5px solid red;
            }
        </style>

    </head>
    <body ng-app="myNGApp" class="container center" >
        <p></p>

        <div ng-controller="firstController">
            <h1 class="badge badge-info" style="font-size: 30px;">單選</h1> <br>
            <p>選中的資料：{{ empData[ clickedIndex ] }}</p>
            <table border="1" class="row">
                <tbody>
                    <tr>
                        <td>
                            <div style="padding: 10px; height: 400px; overflow-y: scroll;">
                                <img title="$index = {{$index}}" ng-style="{ 'margin' : '10px' }" ng-repeat="item in empData track by $index" 
                                    ng-src="{{ item.picUrl }}" ng-click="doClick( $index )" 
                                    ng-class="{ 'highlight' : isHighlight && clickedIndex == $index }"/><!-- 選中的 == 迴圈的$index時 -->
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>

            <p style="margin: 2cm;"></p>

            <h1 class="badge badge-warning" style="font-size: 30px;">多選(ctrl + 左鍵)</h1> <br>
            <p>選中的資料 $index：{{ choosedPicsIndex | json }}</p>
            <p>選中的資料 choosedPicsData：{{ choosedPicsData | json }}</p>
            <table border="1" class="row">
                <tbody>
                    <tr>
                        <td>
                            <div style="padding: 10px; height: 400px; overflow-y: scroll;" ng-click="cleanArray()">
                                <img title="$index = {{$index}}" ng-style="{ 'margin' : '10px' }" 
                                    ng-repeat="item in empData track by $index" 
                                    ng-src="{{ item.picUrl }}" ng-click="doClickMulti( $event , $index )" 
                                    ng-class="{ 'highlight' : choosedPicsIndex.includes( $index) }"/><!-- 直接使用 .includes( ... ) -->

                                <!-- <img title="$index = {{$index}}" ng-style="{ 'margin' : '10px' }" 
                                    ng-repeat="item in empData track by $index" 
                                    ng-src="{{ item.picUrl }}" ng-click="doClickMulti( $event , $index )" 
                                    ng-class="{ 'highlight' : isChoosedArrayaContainsIdx( $index ) }"/> -->
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <hr>
        <hr>

        <div class="row">
            <table class="table-striped table-dark">
                <tbody>
                    <tr>
                        <th scope="row">參考(1) Html 表格固定欄寬</th>
                        <td>https://dotblogs.com.tw/chichiblog/2017/09/05/html</td>
                    </tr>
                    <tr>
                        <th scope="row">參考(2) Angular 取消事件冒泡</th>
                        <td>https://stackoverflow.com/questions/16701092/angularjs-multiple-ng-click-event-bubbling</td>
                    </tr>
                    <tr>
                        <th scope="row">參考(3) 陣列與物件，delete與splice差異</th>
                        <td>https://blog.camel2243.com/2016/03/20/javascript-%E9%99%A3%E5%88%97%E8%88%87%E7%89%A9%E4%BB%B6%EF%BC%8Cdelete%E8%88%87splice%E5%B7%AE%E7%95%B0/</td>
                    </tr>
                    <tr>
                        <th scope="row">參考(4) 清空陣列</th>
                        <td>https://stackoverflow.com/questions/1232040/how-do-i-empty-an-array-in-javascript</td>
                    </tr>
                </tbody>
            </table>
        </div>

    </body>
</html>