<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

        <!-- ========================================================================================= -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.min.js"></script>
        <script src="./index.js"></script>
        <!-- ========================================================================================= -->
        
    </head>
    <body ng-app="myApp">
        <p></p>
        <div class="container" ng-controller="firstController">
            <div class="row">
                <div class="input-group col-sm-6">
                    <div class="input-group-prepend">
                        <span class="input-group-text">City Id</span>
                    </div>
                    <input type="text" class="form-control" style="color:blue;" ng-model="cityId"/><!-- ng-model資料綁定 $scope.cityId -->
                    <input type="text" class="form-control" style="color:red;" ng-model="cityName"/><!-- ng-model資料綁定 $scope.cityName -->
                </div>
                <button class="btn btn-danger col-sm-6" ng-click="getWeather()">查詢天氣</button>
            </div>
            <p></p>
            <div class="container">  
                <div class="row">
                    <table class="table table-striped" ng-show="!!townsList.length"><!-- townsList 有length屬性時才show -->
                        <thead>
                            <tr>
                                <th scope="col">id</th>
                                <th scope="col">name</th>
                                <th scope="col">lat</th>
                                <th scope="col">lng</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="town in townsList">
                                <td>{{town.id}}</td>
                                <td>{{town.name}}</td>
                                <td>{{town.position.lat}}</td>
                                <td>{{town.position.lng}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>              
            </div>

            <div class="container">  
                {{ originCallBackData['towns'] | json }}
            </div>

        </div><!-- end-of firstController -->

    </body>
</html>